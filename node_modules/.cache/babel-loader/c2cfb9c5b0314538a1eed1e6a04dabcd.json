{"ast":null,"code":"import{useNavigate}from'react-router';import React,{useEffect}from'react';import{LoginContainer,LoginButton}from'../styles/Login.styled';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var history=useNavigate();function handleRegister(e){e.preventDefault();var form=e.target;var user={username:form[0].value,email:form[1].value,password:form[2].value};axios.post(\"/register\",user,{headers:{\"Content-Type\":\"application/json\"}}).then(function(_ref){var data=_ref.data;history(\"/login\");});}useEffect(function(){axios.get(\"/isUserAuth\",{headers:{\"x-access-token\":localStorage.getItem(\"token\")}}).then(function(_ref2){var data=_ref2.data;return data.isLoggedIn?history(\"/playlist\"):null;});},[]);return/*#__PURE__*/_jsx(LoginContainer,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){return handleRegister(event);},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"email\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"username\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"password\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"submit\",value:\"Register\"})]})});};export default Register;","map":{"version":3,"names":["useNavigate","React","useEffect","LoginContainer","LoginButton","axios","Register","history","handleRegister","e","preventDefault","form","target","user","username","value","email","password","post","headers","then","data","get","localStorage","getItem","isLoggedIn","event"],"sources":["/home/dh_instincttoofye/instinctmxd.com/src/components/register.js"],"sourcesContent":["import { useNavigate } from 'react-router';\nimport React, { useEffect } from 'react';\nimport { LoginContainer, LoginButton } from '../styles/Login.styled';\nimport axios from 'axios';\n\nconst Register = () => {\n    const history = useNavigate();\n\n    function handleRegister(e) {\n        e.preventDefault();\n\n        const form = e.target;\n        const user = {\n            username: form[0].value,\n            email: form[1].value,\n            password: form[2].value\n        }\n        axios.post(\"/register\", user, {\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n        }).then(({data}) => {\n            history(\"/login\");\n        })\n    }\n    useEffect(() => {\n        axios.get(\"/isUserAuth\", {\n            headers : {\n                \"x-access-token\": localStorage.getItem(\"token\")\n            }\n        }).then(({data}) => {\n            return data.isLoggedIn ? history(\"/playlist\") : null\n        })\n    }, [])\n\n    return (\n        <LoginContainer>\n        <form onSubmit={event => handleRegister(event)}>\n        <label>Email:</label>\n<input required type=\"email\" />\n               <label>Username:</label>\n<input required type=\"username\" />\n               <label>Password:</label>\n<input required type=\"password\" />\n               <input required type=\"submit\" value=\"Register\"/>\n               </form>\n</LoginContainer>   \n)\n}\n\nexport default Register;\n"],"mappings":"AAAA,OAASA,WAAT,KAA4B,cAA5B,CACA,MAAOC,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,cAAT,CAAyBC,WAAzB,KAA4C,wBAA5C,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,wFAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACnB,GAAMC,QAAO,CAAGP,WAAW,EAA3B,CAEA,QAASQ,eAAT,CAAwBC,CAAxB,CAA2B,CACvBA,CAAC,CAACC,cAAF,GAEA,GAAMC,KAAI,CAAGF,CAAC,CAACG,MAAf,CACA,GAAMC,KAAI,CAAG,CACTC,QAAQ,CAAEH,IAAI,CAAC,CAAD,CAAJ,CAAQI,KADT,CAETC,KAAK,CAAEL,IAAI,CAAC,CAAD,CAAJ,CAAQI,KAFN,CAGTE,QAAQ,CAAEN,IAAI,CAAC,CAAD,CAAJ,CAAQI,KAHT,CAAb,CAKAV,KAAK,CAACa,IAAN,CAAW,WAAX,CAAwBL,IAAxB,CAA8B,CAC1BM,OAAO,CAAE,CACL,eAAgB,kBADX,CADiB,CAA9B,EAIGC,IAJH,CAIQ,cAAY,IAAVC,KAAU,MAAVA,IAAU,CAChBd,OAAO,CAAC,QAAD,CAAP,CACH,CAND,EAOH,CACDL,SAAS,CAAC,UAAM,CACZG,KAAK,CAACiB,GAAN,CAAU,aAAV,CAAyB,CACrBH,OAAO,CAAG,CACN,iBAAkBI,YAAY,CAACC,OAAb,CAAqB,OAArB,CADZ,CADW,CAAzB,EAIGJ,IAJH,CAIQ,eAAY,IAAVC,KAAU,OAAVA,IAAU,CAChB,MAAOA,KAAI,CAACI,UAAL,CAAkBlB,OAAO,CAAC,WAAD,CAAzB,CAAyC,IAAhD,CACH,CAND,EAOH,CARQ,CAQN,EARM,CAAT,CAUA,mBACI,KAAC,cAAD,wBACA,cAAM,QAAQ,CAAE,kBAAAmB,KAAK,QAAIlB,eAAc,CAACkB,KAAD,CAAlB,EAArB,wBACA,iCADA,cAER,cAAO,QAAQ,KAAf,CAAgB,IAAI,CAAC,OAArB,EAFQ,cAGO,oCAHP,cAIR,cAAO,QAAQ,KAAf,CAAgB,IAAI,CAAC,UAArB,EAJQ,cAKO,oCALP,cAMR,cAAO,QAAQ,KAAf,CAAgB,IAAI,CAAC,UAArB,EANQ,cAOO,cAAO,QAAQ,KAAf,CAAgB,IAAI,CAAC,QAArB,CAA8B,KAAK,CAAC,UAApC,EAPP,GADA,EADJ,CAaH,CA3CD,CA6CA,cAAepB,SAAf"},"metadata":{},"sourceType":"module"}