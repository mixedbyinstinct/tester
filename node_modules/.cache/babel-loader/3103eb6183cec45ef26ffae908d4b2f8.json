{"ast":null,"code":"import _slicedToArray from\"/home/dh_instincttoofye/instinctmxd.com/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{DashboardContainer,SuccessMessage,FailMessage,Uploader}from'../styles/Dashboard.styled';import axios from'axios';import upload from'./Upload.png';import{NavButton}from'../styles/Menu.styled.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),worked=_useState2[0],setWorked=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),song=_useState4[0],setSong=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),searchWorked=_useState6[0],setSearchWorked=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showSearchMessage=_useState8[0],setShowSearchMessage=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),print=_useState10[0],setPrint=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),name=_useState12[0],setName=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),showMessage=_useState14[0],setShowMessage=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),loading=_useState16[0],setLoading=_useState16[1];function onFileUpload(e){setLoading(true);var formData=new FormData();formData.append(\"mySong\",e.target.files[0]);axios.post(\"/uploadsong\",formData,{headers:{\"current-user-name\":name}}).then(function(_ref){var data=_ref.data;setLoading(false);setPrint(data.message);setShowMessage(true);data.successfulUpload?setWorked(true):setWorked(false);});}function pullUpSongs(e){setLoading(true);if(showMessage)setShowMessage(false);var send={user:name};axios.post(\"/findsongs\",send).then(function(_ref2){var data=_ref2.data;setLoading(false);if(data.searchSucceeded){setSong(data.song);setSearchWorked(true);setShowSearchMessage(false);}else{setPrint(data.message);setSearchWorked(false);setShowSearchMessage(true);}});}function setUser(e){setName(e.target.value);}return/*#__PURE__*/_jsxs(DashboardContainer,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Client Dashboard\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Enter your name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:setUser,value:name}),\" \",/*#__PURE__*/_jsx(\"br\",{}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Working...\"}):/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(Uploader,{children:[\"Upload a file:\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:onFileUpload}),/*#__PURE__*/_jsx(\"img\",{src:upload,alt:\"upload\"})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),showMessage?/*#__PURE__*/_jsx(_Fragment,{children:worked?/*#__PURE__*/_jsx(SuccessMessage,{children:/*#__PURE__*/_jsx(\"p\",{children:print})}):/*#__PURE__*/_jsx(FailMessage,{children:/*#__PURE__*/_jsx(\"p\",{children:print})})}):/*#__PURE__*/_jsx(\"div\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(NavButton,{onClick:pullUpSongs,children:\"Your Songs\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),searchWorked?/*#__PURE__*/_jsx(\"audio\",{src:song,controls:true}):/*#__PURE__*/_jsx(\"div\",{}),showSearchMessage?/*#__PURE__*/_jsx(FailMessage,{children:/*#__PURE__*/_jsx(\"p\",{children:print})}):/*#__PURE__*/_jsx(\"div\",{})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","DashboardContainer","SuccessMessage","FailMessage","Uploader","axios","upload","NavButton","Dashboard","worked","setWorked","song","setSong","searchWorked","setSearchWorked","showSearchMessage","setShowSearchMessage","print","setPrint","name","setName","showMessage","setShowMessage","loading","setLoading","onFileUpload","e","formData","FormData","append","target","files","post","headers","then","data","message","successfulUpload","pullUpSongs","send","user","searchSucceeded","setUser","value"],"sources":["/home/dh_instincttoofye/instinctmxd.com/src/components/dashboard.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { DashboardContainer, SuccessMessage, FailMessage, Uploader } from '../styles/Dashboard.styled';\nimport axios from 'axios';\nimport upload from './Upload.png';\nimport { NavButton } from '../styles/Menu.styled.js';\n\nconst Dashboard = () => {\n\tconst [worked, setWorked] = useState(false);\n\tconst [song, setSong] = useState(null);\n\tconst [searchWorked, setSearchWorked] = useState(false);\n\tconst [showSearchMessage, setShowSearchMessage] = useState(false);\n\tconst [print, setPrint] = useState('');\n\tconst [name, setName] = useState('');\n\tconst [showMessage, setShowMessage] = useState(false);\n\tconst[loading, setLoading] = useState(false);\n\n        function onFileUpload(e) {\n\t\tsetLoading(true);\n\t\tlet formData = new FormData();\n\t\tformData.append(\"mySong\",\n\t\t\te.target.files[0]);\n\t\taxios.post(\"/uploadsong\", formData, {\n\t\t\theaders: {\n\t\t\"current-user-name\": name\n\t\t\t},\n\t\t}).then(({data}) => {\n\t\t\tsetLoading(false);\n\t\t\tsetPrint(data.message);\n\t\t\tsetShowMessage(true);\n\t\t\tdata.successfulUpload ? setWorked(true) : setWorked(false);\n\t\t})\n\t}\n\n\tfunction pullUpSongs(e) {\n\t\tsetLoading(true);\n\t\tif(showMessage) setShowMessage(false);\n\t\tlet send = {\n\t\t\tuser: name,\n\t\t}\n                axios.post(\"/findsongs\", send).then(({data}) => {\n\t\t\tsetLoading(false);\n\t\t\tif(data.searchSucceeded) {\n\t\t\t\tsetSong(data.song);\n\t\t\t\tsetSearchWorked(true);\n\t\t\t\tsetShowSearchMessage(false);\n\t\t\t} else { \n\t\t\t\tsetPrint(data.message);\n\t\t\t\tsetSearchWorked(false);\n\t\t\t\tsetShowSearchMessage(true);\n\t\t\t}\n\t\t})\n\t}\n\n\n\tfunction setUser(e) {\n\t\tsetName(e.target.value);\n\t}\n\n\treturn (\n\t\t<DashboardContainer>\n\t\t<h1>Client Dashboard</h1>\n\t\t<label>Enter your name:</label>\n\t\t<input type=\"text\" onChange={setUser} value={name}/> <br />\n\t\t{loading ? <p>Working...</p> : <div />}\n\t\t<Uploader>\n\t\tUpload a file:\n\t\t<input type=\"file\" onChange={onFileUpload} />\n\t\t<img src={upload} alt=\"upload\" />\n\t\t</Uploader> <br />\n\t\t{showMessage ?\n\t\t\t<>\n\t\t\t{worked ? \n\t\t\t<SuccessMessage>\n\t\t\t<p>{print}</p> \n\t\t\t</SuccessMessage> :\n\t\t\t<FailMessage>\n\t\t\t<p>{print}</p>\n\t\t\t</FailMessage>}\n\t\t\t</> :\n\t\t\t<div />\n\t\t} <br />\n\t\t<NavButton onClick={pullUpSongs}>Your Songs</NavButton> <br />\n\t\t{searchWorked ? \n\t\t\t<audio src={song} controls /> : <div />}\n\t\t{showSearchMessage ?\n\t\t\t\t<FailMessage>\n\t\t\t\t<p>{print}</p>\n\t\t\t\t</FailMessage>\n\t\t\t\t: <div />\n\t\t}\n\t\t</DashboardContainer>\n\t);\n}\n\nexport default Dashboard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}