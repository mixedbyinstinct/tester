{"ast":null,"code":"import _slicedToArray from\"/home/dh_instincttoofye/instinctmxd.com/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{MenuContainer,NavButton}from'../styles/Menu.styled';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Menu=function Menu(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var navigate=useNavigate();var logout=function logout(){localStorage.removeItem(\"token\");navigate(\"/login\");};useEffect(function(){axios.get(\"/isUserAuth\",{headers:{\"x-access-token\":localStorage.getItem(\"token\")}}).then(function(_ref){var data=_ref.data;return data.isLoggedIn?setUsername(data.username):null;});});return/*#__PURE__*/_jsx(MenuContainer,{children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/about\",children:/*#__PURE__*/_jsx(NavButton,{children:\"About\"})}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(NavButton,{children:\"Home\"})}),/*#__PURE__*/_jsx(NavButton,{children:\"Credits\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:/*#__PURE__*/_jsx(NavButton,{children:\"Sign Up\"})}),username?/*#__PURE__*/_jsx(NavButton,{onClick:logout,children:\"Log Out\"}):/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(NavButton,{children:\"Log In\"})}),username?/*#__PURE__*/_jsx(NavButton,{children:\"Dashboard\"}):/*#__PURE__*/_jsx(\"div\",{}),username==='instinct'?/*#__PURE__*/_jsx(NavButton,{children:\"Admin Dashboard\"}):/*#__PURE__*/_jsx(\"div\",{})]})});};export default Menu;","map":{"version":3,"names":["React","useState","Link","useNavigate","MenuContainer","NavButton","axios","Menu","username","setUsername","navigate","logout","localStorage","removeItem","useEffect","get","headers","getItem","then","data","isLoggedIn"],"sources":["/home/dh_instincttoofye/instinctmxd.com/src/components/menu.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { MenuContainer, NavButton } from '../styles/Menu.styled';\nimport axios from 'axios';\n\nconst Menu = () => {\n\tconst [username, setUsername] = useState('');\n\tconst navigate = useNavigate();\n\n        const logout = () => {\n\t\tlocalStorage.removeItem(\"token\");\n\t\tnavigate(\"/login\");\n\t}\n\n\tuseEffect(() => {\n\t\taxios.get(\"/isUserAuth\", {\n\t\t\theaders: {\n\t\t\t\t\"x-access-token\": localStorage.getItem(\"token\")\n\t\t\t},\n\t\t}).then(({data}) => data.isLoggedIn ? setUsername(data.username) : null);\n\t})\n\n\treturn (\n\t\t<MenuContainer>\n                <ul>\n\t\t<Link to=\"/about\">\n\t\t<NavButton>About</NavButton>\n\t\t</Link>\n\n\t\t<Link to=\"/\">\n\t\t<NavButton>Home</NavButton>\n\t\t</Link>\n\n\t\t<NavButton>Credits</NavButton>\n\t\n                <Link to=\"/register\">\n\t\t<NavButton>Sign Up</NavButton>\n\t\t</Link>\n\n\t\t{username ? <NavButton onClick={logout}>Log Out</NavButton> :\n\t\t<Link to=\"/login\">\n\t\t<NavButton>Log In</NavButton>\n\t\t</Link>}\n\n\t\t{username ?\n\t\t<NavButton>Dashboard</NavButton> :\n\t\t<div />}\n\n\t\t{username === 'instinct' ? \n\t\t<NavButton>Admin Dashboard</NavButton> :\n\t\t<div />}\n\n\t\t</ul>\n\t\t</MenuContainer>\n\t);\n}\n\nexport default Menu;\n"],"mappings":"6HAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,CAAeC,WAAf,KAAkC,kBAAlC,CACA,OAASC,aAAT,CAAwBC,SAAxB,KAAyC,uBAAzC,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,wFAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CAClB,cAAgCN,QAAQ,CAAC,EAAD,CAAxC,wCAAOO,QAAP,eAAiBC,WAAjB,eACA,GAAMC,SAAQ,CAAGP,WAAW,EAA5B,CAEO,GAAMQ,OAAM,CAAG,QAATA,OAAS,EAAM,CAC3BC,YAAY,CAACC,UAAb,CAAwB,OAAxB,EACAH,QAAQ,CAAC,QAAD,CAAR,CACA,CAHM,CAKPI,SAAS,CAAC,UAAM,CACfR,KAAK,CAACS,GAAN,CAAU,aAAV,CAAyB,CACxBC,OAAO,CAAE,CACR,iBAAkBJ,YAAY,CAACK,OAAb,CAAqB,OAArB,CADV,CADe,CAAzB,EAIGC,IAJH,CAIQ,kBAAEC,KAAF,MAAEA,IAAF,OAAYA,KAAI,CAACC,UAAL,CAAkBX,WAAW,CAACU,IAAI,CAACX,QAAN,CAA7B,CAA+C,IAA3D,EAJR,EAKA,CANQ,CAAT,CAQA,mBACC,KAAC,aAAD,wBACc,mCACd,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,uBACA,KAAC,SAAD,oBADA,EADc,cAKd,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBACA,KAAC,SAAD,mBADA,EALc,cASd,KAAC,SAAD,sBATc,cAWA,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,uBACd,KAAC,SAAD,sBADc,EAXA,CAebA,QAAQ,cAAG,KAAC,SAAD,EAAW,OAAO,CAAEG,MAApB,qBAAH,cACT,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,uBACA,KAAC,SAAD,qBADA,EAhBc,CAoBbH,QAAQ,cACT,KAAC,SAAD,wBADS,cAET,cAtBc,CAwBbA,QAAQ,GAAK,UAAb,cACD,KAAC,SAAD,8BADC,cAED,cA1Bc,GADd,EADD,CAiCA,CAlDD,CAoDA,cAAeD,KAAf"},"metadata":{},"sourceType":"module"}