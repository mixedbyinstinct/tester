{"ast":null,"code":"import _slicedToArray from\"/home/dh_instincttoofye/instinctmxd.com/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{DashboardContainer,SuccessMessage,FailMessage,Uploader}from'../styles/Dashboard.styled';import axios from'axios';import upload from'./Upload.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),worked=_useState2[0],setWorked=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),print=_useState4[0],setPrint=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showMessage=_useState8[0],setShowMessage=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];function onFileUpload(e){setLoading(true);var formData=new FormData();formData.append(\"mySong\",e.target.files[0]);axios.post(\"/uploadsong\",formData,{headers:{\"current-user-name\":name}}).then(function(_ref){var data=_ref.data;setLoading(false);setPrint(data.message);setShowMessage(true);data.successfulUpload?setWorked(true):setWorked(false);});}function setUser(e){setName(e.target.value);}return/*#__PURE__*/_jsxs(DashboardContainer,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Client Dashboard\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Enter your name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:setUser}),\" \",/*#__PURE__*/_jsx(\"br\",{}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Working...\"}):/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(Uploader,{children:[\"Upload a file:\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:onFileUpload}),/*#__PURE__*/_jsx(\"img\",{src:upload,alt:\"upload\"})]}),showMessage?/*#__PURE__*/_jsx(_Fragment,{children:worked?/*#__PURE__*/_jsx(SuccessMessage,{children:/*#__PURE__*/_jsx(\"p\",{children:print})}):/*#__PURE__*/_jsx(FailMessage,{children:/*#__PURE__*/_jsx(\"p\",{children:print})})}):/*#__PURE__*/_jsx(\"div\",{})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","DashboardContainer","SuccessMessage","FailMessage","Uploader","axios","upload","Dashboard","worked","setWorked","print","setPrint","name","setName","showMessage","setShowMessage","loading","setLoading","onFileUpload","e","formData","FormData","append","target","files","post","headers","then","data","message","successfulUpload","setUser","value"],"sources":["/home/dh_instincttoofye/instinctmxd.com/src/components/dashboard.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { DashboardContainer, SuccessMessage, FailMessage, Uploader } from '../styles/Dashboard.styled';\nimport axios from 'axios';\nimport upload from './Upload.png';\n\nconst Dashboard = () => {\n\tconst [worked, setWorked] = useState(false);\n\tconst [print, setPrint] = useState('');\n\tconst [name, setName] = useState('');\n\tconst [showMessage, setShowMessage] = useState(false);\n\tconst[loading, setLoading] = useState(false);\n\n        function onFileUpload(e) {\n\t\tsetLoading(true);\n\t\tlet formData = new FormData();\n\t\tformData.append(\"mySong\",\n\t\t\te.target.files[0]);\n\t\taxios.post(\"/uploadsong\", formData, {\n\t\t\theaders: {\n\t\t\"current-user-name\": name\n\t\t\t},\n\t\t}).then(({data}) => {\n\t\t\tsetLoading(false);\n\t\t\tsetPrint(data.message);\n\t\t\tsetShowMessage(true);\n\t\t\tdata.successfulUpload ? setWorked(true) : setWorked(false);\n\t\t})\n\t}\n\n\tfunction setUser(e) {\n\t\tsetName(e.target.value);\n\t}\n\n\treturn (\n\t\t<DashboardContainer>\n\t\t<h1>Client Dashboard</h1>\n\t\t<label>Enter your name:</label>\n\t\t<input type=\"text\" onChange={setUser} /> <br />\n\t\t{loading ? <p>Working...</p> : <div />}\n\t\t<Uploader>\n\t\tUpload a file:\n\t\t<input type=\"file\" onChange={onFileUpload} />\n\t\t<img src={upload} alt=\"upload\" />\n\t\t</Uploader>\n\t\t{showMessage ?\n\t\t\t<>\n\t\t\t{worked ? \n\t\t\t<SuccessMessage>\n\t\t\t<p>{print}</p> \n\t\t\t</SuccessMessage> :\n\t\t\t<FailMessage>\n\t\t\t<p>{print}</p>\n\t\t\t</FailMessage>}\n\t\t\t</> :\n\t\t\t<div />\n\t\t}\n\t\t</DashboardContainer>\n\t);\n}\n\nexport default Dashboard;\n"],"mappings":"6HAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,kBAAT,CAA6BC,cAA7B,CAA6CC,WAA7C,CAA0DC,QAA1D,KAA0E,4BAA1E,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,OAAP,KAAmB,cAAnB,C,6IAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,EAAM,CACvB,cAA4BP,QAAQ,CAAC,KAAD,CAApC,wCAAOQ,MAAP,eAAeC,SAAf,eACA,eAA0BT,QAAQ,CAAC,EAAD,CAAlC,yCAAOU,KAAP,eAAcC,QAAd,eACA,eAAwBX,QAAQ,CAAC,EAAD,CAAhC,yCAAOY,IAAP,eAAaC,OAAb,eACA,eAAsCb,QAAQ,CAAC,KAAD,CAA9C,yCAAOc,WAAP,eAAoBC,cAApB,eACA,eAA6Bf,QAAQ,CAAC,KAAD,CAArC,0CAAMgB,OAAN,gBAAeC,UAAf,gBAEO,QAASC,aAAT,CAAsBC,CAAtB,CAAyB,CAC/BF,UAAU,CAAC,IAAD,CAAV,CACA,GAAIG,SAAQ,CAAG,GAAIC,SAAJ,EAAf,CACAD,QAAQ,CAACE,MAAT,CAAgB,QAAhB,CACCH,CAAC,CAACI,MAAF,CAASC,KAAT,CAAe,CAAf,CADD,EAEAnB,KAAK,CAACoB,IAAN,CAAW,aAAX,CAA0BL,QAA1B,CAAoC,CACnCM,OAAO,CAAE,CACV,oBAAqBd,IADX,CAD0B,CAApC,EAIGe,IAJH,CAIQ,cAAY,IAAVC,KAAU,MAAVA,IAAU,CACnBX,UAAU,CAAC,KAAD,CAAV,CACAN,QAAQ,CAACiB,IAAI,CAACC,OAAN,CAAR,CACAd,cAAc,CAAC,IAAD,CAAd,CACAa,IAAI,CAACE,gBAAL,CAAwBrB,SAAS,CAAC,IAAD,CAAjC,CAA0CA,SAAS,CAAC,KAAD,CAAnD,CACA,CATD,EAUA,CAED,QAASsB,QAAT,CAAiBZ,CAAjB,CAAoB,CACnBN,OAAO,CAACM,CAAC,CAACI,MAAF,CAASS,KAAV,CAAP,CACA,CAED,mBACC,MAAC,kBAAD,yBACA,wCADA,cAEA,2CAFA,cAGA,cAAO,IAAI,CAAC,MAAZ,CAAmB,QAAQ,CAAED,OAA7B,EAHA,kBAGyC,aAHzC,CAICf,OAAO,cAAG,iCAAH,cAAuB,cAJ/B,cAKA,MAAC,QAAD,0CAEA,cAAO,IAAI,CAAC,MAAZ,CAAmB,QAAQ,CAAEE,YAA7B,EAFA,cAGA,YAAK,GAAG,CAAEZ,MAAV,CAAkB,GAAG,CAAC,QAAtB,EAHA,GALA,CAUCQ,WAAW,cACX,yBACCN,MAAM,cACP,KAAC,cAAD,wBACA,mBAAIE,KAAJ,EADA,EADO,cAIP,KAAC,WAAD,wBACA,mBAAIA,KAAJ,EADA,EALA,EADW,cAUX,cApBD,GADD,CAyBA,CArDD,CAuDA,cAAeH,UAAf"},"metadata":{},"sourceType":"module"}