{"ast":null,"code":"import _slicedToArray from\"/home/dh_instincttoofye/instinctmxd.com/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{DashboardContainer,SuccessMessage,FailMessage,Uploader}from'../styles/Dashboard.styled';import axios from'axios';import upload from'./Upload.png';import quote from'./Quote.png';import{NavButton}from'../styles/Menu.styled.js';import Waveform from'./waveform.js';import QuoteBar from'./quotebar.js';import{MenuButton}from'../styles/App.styled';import Loader from'./loader';import{Jumbotron,Text}from'../styles/App.styled';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),worked=_useState2[0],setWorked=_useState2[1];//const [song, setSong] = useState(null);\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),getQuote=_useState4[0],setGetQuote=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),searchWorked=_useState6[0],setSearchWorked=_useState6[1];//\tconst [song2, setSong2] = useState(null);\n//\t        const [song, setSong] = useState(null);\n//\tconst [song4, setSong4] = useState(null);    \nvar _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),songs=_useState8[0],setSongs=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showSearchMessage=_useState10[0],setShowSearchMessage=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),print=_useState12[0],setPrint=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),name=_useState14[0],setName=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),showReverse=_useState16[0],setShowReverse=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),showMessage=_useState18[0],setShowMessage=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),loading=_useState20[0],setLoading=_useState20[1];function onFileUpload(e){setLoading(true);var formData=new FormData();formData.append(\"mySong\",e.target.files[0]);axios.post(\"/uploadsong\",formData,{headers:{\"current-user-name\":name}}).then(function(_ref){var data=_ref.data;setLoading(false);setPrint(data.message);setShowMessage(true);data.successfulUpload?setWorked(true):setWorked(false);});}function pullUpSongs(e){setLoading(true);if(showMessage)setShowMessage(false);var send={user:name};axios.post(\"/findsongs\",send).then(function(_ref2){var data=_ref2.data;setLoading(false);if(data.searchSucceeded){setSongs(data.songs);setSearchWorked(true);setShowSearchMessage(false);}else{setPrint(data.message);setSearchWorked(false);setShowSearchMessage(true);}});}function setUser(e){setName(e.target.value);}function flipName(){setLoading(true);var send={user:name};axios.get(\"/reversename\",{headers:{\"current-user-name\":name}}).then(function(_ref3){var data=_ref3.data;setLoading(false);setPrint(data.message);setShowReverse(true);});}function showQuote(){setGetQuote(!getQuote);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Jumbotron,{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Dashboard\"})}),/*#__PURE__*/_jsxs(DashboardContainer,{children:[/*#__PURE__*/_jsxs(Text,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Enter your name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:setUser,value:name}),\" \",/*#__PURE__*/_jsx(\"br\",{})]}),loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(Uploader,{children:[\"Upload a file:\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:onFileUpload}),/*#__PURE__*/_jsx(\"img\",{src:upload,alt:\"upload\"})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Uploader,{children:[\"Get a mixing quote:\",/*#__PURE__*/_jsx(\"img\",{src:quote,alt:\"button\",onClick:showQuote})]}),showMessage?/*#__PURE__*/_jsx(_Fragment,{children:worked?/*#__PURE__*/_jsx(SuccessMessage,{children:/*#__PURE__*/_jsx(\"p\",{children:print})}):/*#__PURE__*/_jsx(FailMessage,{children:/*#__PURE__*/_jsx(\"p\",{children:print})})}):/*#__PURE__*/_jsx(\"div\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(NavButton,{onClick:pullUpSongs,children:\"Your Songs\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(NavButton,{onClick:flipName,children:\"Reverse Name\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),searchWorked?songs.map(function(song){return/*#__PURE__*/_jsx(\"audio\",{src:song,controls:true});}):/*#__PURE__*/_jsx(\"div\",{}),showSearchMessage?/*#__PURE__*/_jsx(FailMessage,{children:/*#__PURE__*/_jsx(\"p\",{children:print})}):/*#__PURE__*/_jsx(\"div\",{}),showReverse?/*#__PURE__*/_jsx(SuccessMessage,{children:/*#__PURE__*/_jsx(\"p\",{children:print})}):/*#__PURE__*/_jsx(\"div\",{}),getQuote?/*#__PURE__*/_jsx(QuoteBar,{close:showQuote}):/*#__PURE__*/_jsx(\"div\",{})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","DashboardContainer","SuccessMessage","FailMessage","Uploader","axios","upload","quote","NavButton","Waveform","QuoteBar","MenuButton","Loader","Jumbotron","Text","Dashboard","worked","setWorked","getQuote","setGetQuote","searchWorked","setSearchWorked","songs","setSongs","showSearchMessage","setShowSearchMessage","print","setPrint","name","setName","showReverse","setShowReverse","showMessage","setShowMessage","loading","setLoading","onFileUpload","e","formData","FormData","append","target","files","post","headers","then","data","message","successfulUpload","pullUpSongs","send","user","searchSucceeded","setUser","value","flipName","get","showQuote","map","song"],"sources":["/home/dh_instincttoofye/instinctmxd.com/src/components/dashboard.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { DashboardContainer, SuccessMessage, FailMessage, Uploader } from '../styles/Dashboard.styled';\nimport axios from 'axios';\nimport upload from './Upload.png';\nimport quote from './Quote.png';\nimport { NavButton } from '../styles/Menu.styled.js';\nimport Waveform from './waveform.js';\nimport QuoteBar from './quotebar.js';\nimport { MenuButton } from '../styles/App.styled';\nimport Loader from './loader';\nimport { Jumbotron, Text } from '../styles/App.styled';\n\nconst Dashboard = () => {\n\tconst [worked, setWorked] = useState(false);\n\t//const [song, setSong] = useState(null);\n\tconst [getQuote, setGetQuote] = useState(false);\n\tconst [searchWorked, setSearchWorked] = useState(false);\n//\tconst [song2, setSong2] = useState(null);\n//\t        const [song, setSong] = useState(null);\n//\tconst [song4, setSong4] = useState(null);    \n    const [songs, setSongs] = useState([]);\n\tconst [showSearchMessage, setShowSearchMessage] = useState(false);\n\tconst [print, setPrint] = useState('');\n\tconst [name, setName] = useState('');\n\tconst [showReverse, setShowReverse] = useState(false);\n\tconst [showMessage, setShowMessage] = useState(false);\n\tconst[loading, setLoading] = useState(false);\n\n        function onFileUpload(e) {\n\t\tsetLoading(true);\n\t\tlet formData = new FormData();\n\t\tformData.append(\"mySong\",\n\t\t\te.target.files[0]);\n\t\taxios.post(\"/uploadsong\", formData, {\n\t\t\theaders: {\n\t\t\"current-user-name\": name\n\t\t\t},\n\t\t}).then(({data}) => {\n\t\t\tsetLoading(false);\n\t\t\tsetPrint(data.message);\n\t\t\tsetShowMessage(true);\n\t\t\tdata.successfulUpload ? setWorked(true) : setWorked(false);\n\t\t})\n\t}\n\n\tfunction pullUpSongs(e) {\n\t\tsetLoading(true);\n\t\tif(showMessage) setShowMessage(false);\n\t\tlet send = {\n\t\t\tuser: name,\n\t\t}\n                axios.post(\"/findsongs\", send).then(({data}) => {\n\t\t\tsetLoading(false);\n\t\t\tif(data.searchSucceeded) {\n\t\t\t\tsetSongs(data.songs);\n\t\t\t\tsetSearchWorked(true);\n\t\t\t\tsetShowSearchMessage(false);\n\t\t\t} else { \n\t\t\t\tsetPrint(data.message);\n\t\t\t\tsetSearchWorked(false);\n\t\t\t\tsetShowSearchMessage(true);\n\t\t\t}\n\t\t})\n\t}\n\n\n\tfunction setUser(e) {\n\t\tsetName(e.target.value);\n\t}\n\n\tfunction flipName() {\n\t\tsetLoading(true);\n\t\tlet send = {\n\t\t\tuser: name,\n\t\t}\n\t\taxios.get(\"/reversename\", {\n\t\t\theaders: {\n\t\t\"current-user-name\": name\n\t\t\t},\n\t\t}).then(({data}) => {\n\t\t\tsetLoading(false);\n\t\t\tsetPrint(data.message);\n\t\t\tsetShowReverse(true);\n\t\t});\n\t}\n\n        function showQuote() {\n\t\tsetGetQuote(!getQuote);\n\t}\n\n\treturn (\n        <>\n        <Jumbotron>\n        <h1>Dashboard</h1>\n        </Jumbotron>\n        \t\t<DashboardContainer>\n        <Text>\n\t\t<label>Enter your name:</label>\n\t\t<input type=\"text\" onChange={setUser} value={name}/> <br />\n        </Text>\n\t\t{loading ? <Loader /> : <div />}\n\t\t<Uploader>\n\t\tUpload a file:\n\t\t<input type=\"file\" onChange={onFileUpload} />\n\t\t<img src={upload} alt=\"upload\" />\n\t\t</Uploader> <br />\n\t\t<Uploader>\n\t\tGet a mixing quote:\n\t\t<img src={quote} alt=\"button\" onClick={showQuote} />\n\t\t</Uploader>\n\t\t{showMessage ?\n\t\t\t<>\n\t\t\t{worked ? \n\t\t\t<SuccessMessage>\n\t\t\t<p>{print}</p> \n\t\t\t</SuccessMessage> :\n\t\t\t<FailMessage>\n\t\t\t<p>{print}</p>\n\t\t\t</FailMessage>}\n\t\t\t</> :\n\t\t\t<div />\n\t\t} <br />\n\t\t<NavButton onClick={pullUpSongs}>Your Songs</NavButton> <br />\n\t\t<NavButton onClick={flipName}>Reverse Name</NavButton> <br />\n\t\t{searchWorked ? songs.map((song) => (  \n\t\t\t<audio src={song} controls />)) : <div />}\n\t\t{showSearchMessage ?\n\t\t\t\t<FailMessage>\n\t\t\t\t<p>{print}</p>\n\t\t\t\t</FailMessage>\n\t\t\t\t: <div />\n\t\t}\n\t\t{showReverse ? \n\t\t\t\t<SuccessMessage>\n\t\t\t\t<p>{print}</p>\n\t\t\t\t</SuccessMessage>\n\t\t\t\t: <div />\n\t\t}\n\t\t{getQuote ? <QuoteBar close={showQuote}/> : <div />}\n\t\t</DashboardContainer>\n      </>\n\t);\n}\n\nexport default Dashboard;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}